!function r(a,o,h){function u(e,t){if(!o[e]){if(!a[e]){var i="function"==typeof require&&require;if(!t&&i)return i(e,!0);if(l)return l(e,!0);var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}var s=o[e]={exports:{}};a[e][0].call(s.exports,function(t){var i=a[e][1][t];return u(i||t)},s,s.exports,r,a,o,h)}return o[e].exports}for(var l="function"==typeof require&&require,t=0;t<h.length;t++)u(h[t]);return u}({1:[function(t,i,e){"use strict";window.SlotMachine=t("./slot-machine")},{"./slot-machine":3}],2:[function(t,i,e){"use strict";var n=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame;i.exports=function(t){var i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;setTimeout(function(){return n(t)},i)}},{}],3:[function(t,i,e){"use strict";var n=function(){function n(t,i){for(var e=0;e<i.length;e++){var n=i[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,i,e){return i&&n(t.prototype,i),e&&n(t,e),t}}();var s=t("./timer"),r=t("./raf"),a={active:0,delay:200,auto:!1,spins:5,randomize:null,complete:null,stopHidden:!0,direction:"up"},o="slotMachineNoTransition",h="slotMachineBlurFast",u="slotMachineBlurMedium",l="slotMachineBlurSlow",c="slotMachineBlurTurtle",f="slotMachineGradient",d=f;i.exports=function(){function e(t,i){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,e),this.element=t,this.settings=Object.assign({},a,i),this.defaults=a,this.tiles=[].slice.call(this.element.children),this.container=null,this._minTop=null,this._maxTop=null,this._fakeFirstTile=null,this._fakeLastTile=null,this._timer=null,this._spinsLeft=null,this.futureActive=null,this.running=!1,this.stopping=!1,this.randomize=this.settings.randomize,this.settings.active=Number(this.settings.active),(isNaN(this.settings.active)||this.settings.active<0||this.settings.active>=this.tiles.length)&&(this.settings.active=a.active),this.active=this.settings.active,this.element.style.overflow="hidden",this._wrapTiles(),this._minTop=-this._fakeFirstTile.offsetHeight,this._maxTop=-this.tiles.reduce(function(t,i){return t+i.offsetHeight},0),this._initDirection(),this._resetPosition(),!1!==this.settings.auto&&(!0===this.settings.auto?this.shuffle():this.auto())}return n(e,null,[{key:"name",get:function(){return"slotMachine"}}]),n(e,[{key:"_wrapTiles",value:function(){var i=this;this.container=document.createElement("div"),this.container.classList.add("slotMachineContainer"),this.container.style.transition="1s ease-in-out",this.element.appendChild(this.container),this._fakeFirstTile=this.tiles[this.tiles.length-1].cloneNode(!0),this.container.appendChild(this._fakeFirstTile),this.tiles.forEach(function(t){i.container.appendChild(t)}),this._fakeLastTile=this.tiles[0].cloneNode(!0),this.container.appendChild(this._fakeLastTile)}},{key:"_initDirection",value:function(){this._direction={selected:"down"===this.settings.direction?"down":"up",up:{key:"up",initial:this.getTileOffset(this.active),first:0,last:this.getTileOffset(this.tiles.length),to:this._maxTop,firstToLast:this.getTileOffset(this.tiles.length),lastToFirst:0},down:{key:"down",initial:this.getTileOffset(this.active),first:this.getTileOffset(this.tiles.length),last:0,to:this._minTop,firstToLast:this.getTileOffset(this.tiles.length),lastToFirst:0}}}},{key:"_changeTransition",value:function(){var t=this._delay||this.settings.delay,i=this._transition||this.settings.transition;this.container.style.transition=t+"s "+i}},{key:"_animate",value:function(t){this.container.style.transform="matrix(1, 0, 0, 1, 0, "+t+")"}},{key:"_isGoingBackward",value:function(){return this.futureActive>this.active&&0===this.active&&this.futureActive===this.tiles.length-1}},{key:"_isGoingForward",value:function(){return this.futureActive<=this.active&&this.active===this.tiles.length-1&&0===this.futureActive}},{key:"getTileOffset",value:function(t){for(var i=0,e=0;e<t;e++)i+=this.tiles[e].offsetHeight;return this._minTop-i}},{key:"_resetPosition",value:function(t){this.container.classList.toggle(o),this._animate(void 0===t?this.direction.initial:t),this.container.offsetHeight,this.container.classList.toggle(o)}},{key:"prev",value:function(){return this.futureActive=this.prevIndex,this.running=!0,this.stop(),this.futureActive}},{key:"next",value:function(){return this.futureActive=this.nextIndex,this.running=!0,this.stop(),this.futureActive}},{key:"_getDelayFromSpins",value:function(t){var i=this.settings.delay;switch(this._transition="linear",t){case 1:i/=.5,this._transition="ease-out",this._animationFX=c;break;case 2:i/=.75,this._animationFX=l;break;case 3:i/=1,this._animationFX=u;break;case 4:i/=1.25,this._animationFX=u;break;default:i/=1.5,this._animationFX=h}return i}},{key:"shuffle",value:function(i,e){var n=this;if("function"==typeof i&&(e=i),this.running=!0,this.visible||!0!==this.settings.stopHidden){var t=this._getDelayFromSpins(i);this.delay=t,this._animate(this.direction.to),r(function(){if(!n.stopping&&n.running){var t=i-1;n._resetPosition(n.direction.first),t<=1?n.stop(e):n.shuffle(t,e)}},t)}else this.stop(e);return this.futureActive}},{key:"stop",value:function(t){var i=this;if(!this.running||this.stopping)return this.futureActive;this.running=!0,this.stopping=!0,null===this.futureActive&&(this.futureActive=this.custom),this._isGoingBackward()?this._resetPosition(this.direction.firstToLast):this._isGoingForward()&&this._resetPosition(this.direction.lastToFirst),this.active=this.futureActive;var e=this._getDelayFromSpins(1);return this.delay=e,this._animationFX=d,this._animate(this.getTileOffset(this.active)),r(function(){i.stopping=!1,i.running=!1,i.futureActive=null,"function"==typeof i.settings.complete&&i.settings.complete.apply(i,[i.active]),"function"==typeof t&&t.apply(i,[i.active])},e),this.active}},{key:"auto",value:function(){var t=this;this.running||(this._timer=new s(function(){"function"!=typeof t._randomize&&(t._randomize=function(){return t._nextIndex}),t.visible||!0!==t.settings.stopHidden?t.shuffle(t.settings.spins,function(){t._timer.reset()}):r(function(){t._timer.reset()},500)},this.settings.auto))}},{key:"destroy",value:function(){var i=this;this._fakeFirstTile.remove(),this._fakeLastTile.remove(),this.$tiles.unwrap(),this.tiles.forEach(function(t){i.element.appendChild(t)}),this.container.remove()}},{key:"active",get:function(){return this._active},set:function(t){((this._active=t)<0||t>=this.tiles.length)&&(this._active=0)}},{key:"visibleTile",get:function(){var t=this.tiles[0].offsetHeight,i=this.container.style.transform||"",e=parseInt(i.replace(/^matrix\(-?\d+,\s?-?\d+,\s?-?\d+,\s?-?\d+,\s?-?\d+,\s?(-?\d+)\)$/,"$1"),10);return Math.abs(Math.round(e/t))-1}},{key:"random",get:function(){return Math.floor(Math.random()*this.tiles.length)}},{key:"custom",get:function(){var t=void 0;if("function"==typeof this._randomize){var i=this._randomize(this.active);(i<0||i>=this.tiles.length)&&(i=0),t=i}else t=this.random;return t}},{key:"direction",get:function(){return this._direction[this._direction.selected]},set:function(t){this.running||(this._direction.selected="down"===t?"down":"up")}},{key:"_prevIndex",get:function(){var t=this.active-1;return t<0?this.tiles.length-1:t}},{key:"_nextIndex",get:function(){var t=this.active+1;return t<this.tiles.length?t:0}},{key:"prevIndex",get:function(){return"up"===this.direction.key?this._nextIndex:this._prevIndex}},{key:"nextIndex",get:function(){return"up"===this.direction.key?this._prevIndex:this._nextIndex}},{key:"visible",get:function(){var t=this.element.getBoundingClientRect(),i=window.innerHeight||document.documentElement.clientHeight,e=window.innerWidth||document.documentElement.clientWidth,n=t.top<=i&&0<=t.top+t.height,s=t.left<=e&&0<=t.left+t.width;return n&&s}},{key:"randomize",set:function(t){"number"==typeof(this._randomize=t)&&(this._randomize=function(){return t})}},{key:"_fxClass",set:function(i){[].concat(function(t){if(Array.isArray(t)){for(var i=0,e=Array(t.length);i<t.length;i++)e[i]=t[i];return e}return Array.from(t)}(this.tiles),[this._fakeLastTile,this._fakeFirstTile]).forEach(function(t){t.classList.remove(h,u,l,c),t.classList.add(i)})}},{key:"_animationFX",set:function(t){var i=this,e=this.settings.delay/4;r(function(){(i._fxClass=t)===d?i.container.classList.remove(f):i.container.classList.add(f)},e)}},{key:"delay",set:function(t){t/=1e3,this._delay=t,this._changeTransition()}},{key:"transition",set:function(t){t=t||"ease-in-out",this._transition=t,this._changeTransition()}}]),e}()},{"./raf":2,"./timer":4}],4:[function(t,i,e){"use strict";var n=function(){function n(t,i){for(var e=0;e<i.length;e++){var n=i[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,i,e){return i&&n(t.prototype,i),e&&n(t,e),t}}();i.exports=function(){function e(t,i){return function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,e),this.cb=t,this.initialDelay=i,this.delay=i,this.startTime=null,this.timer=null,this.running=!1,this.resume(),this}return n(e,[{key:"_start",value:function(){var t=this;this.timer=setTimeout(function(){t.running=!1,t.cb(t)},this.delay)}},{key:"cancel",value:function(){this.running=!1,clearTimeout(this.timer)}},{key:"pause",value:function(){this.running&&(this.delay-=(new Date).getTime()-this.startTime,this.cancel())}},{key:"resume",value:function(){this.running||(this.running=!0,this.startTime=(new Date).getTime(),this._start())}},{key:"reset",value:function(){this.cancel(),this.delay=this.initialDelay,this._start()}},{key:"add",value:function(t){this.pause(),this.delay+=t,this.resume()}}]),e}()},{}]},{},[1]);